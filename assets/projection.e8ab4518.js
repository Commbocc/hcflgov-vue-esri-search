import{J as Qe,aQ as et,cf as g,cg as oe,ch as V,t as T,_ as Le,bq as Fe,a4 as tt,aA as nt,M as ot,i as rt,a as _t,aH as st,s as it,aU as at,aN as Pt,ci as ut,cj as Et,cb as lt,ck as ct,cl as ft,cm as St,cn as At,co as Ct,cp as pt,cq as Rt,cr as Ot,cs as ue,ct as Nt,cu as Mt,r as me,cv as Tt,cw as gt,cx as Lt,cy as dt}from"./index.6518a001.js";let fe,_=null;function je(){return!!_}function ht(){return!!Qe("esri-wasm")}function $e(){return fe||(fe=import("./pe-wasm.1d1b20e7.js").then(e=>e.p).then(({default:e})=>e({locateFile:n=>et(`esri/geometry/support/${n}`)})).then(e=>{Ke(e)}),fe)}var Ce,O,pe;(function(e){function n(i,P,s){_.ensureCache.prepare();const l=k(s),E=s===l,u=_.ensureFloat64(l),c=_._pe_geog_to_proj(_.getPointer(i),P,u);return c&&D(s,P,u,E),c}function t(i,P,s,l){switch(l){case O.PE_TRANSFORM_P_TO_G:return r(i,P,s);case O.PE_TRANSFORM_G_TO_P:return n(i,P,s)}return 0}function r(i,P,s){return a(i,P,s,0)}function a(i,P,s,l){_.ensureCache.prepare();const E=k(s),u=s===E,c=_.ensureFloat64(E),S=_._pe_proj_to_geog_center(_.getPointer(i),P,c,l);return S&&D(s,P,c,u),S}e.geogToProj=n,e.projGeog=t,e.projToGeog=r,e.projToGeogCenter=a})(Ce||(Ce={})),function(e){function n(){e.PE_BUFFER_MAX=_.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=_.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=_.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=_.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=_.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=_.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=_.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=_.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=_.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=_.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=_.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=_.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=_.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=_.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=_.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=_.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=_.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=_.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=_.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=_.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_PARM_X0=_.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=_.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=_.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=_.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=_.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=_.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=_.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=_.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=_.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=_.PeDefs.prototype.PE_HORIZON_DELTA}e.init=n}(O||(O={})),function(e){const n={},t={},r=f=>{if(f){const A=f.getType();switch(A){case O.PE_TYPE_GEOGCS:f=_.castObject(f,_.PeGeogcs);break;case O.PE_TYPE_PROJCS:f=_.castObject(f,_.PeProjcs);break;case O.PE_TYPE_GEOGTRAN:f=_.castObject(f,_.PeGeogtran);break;default:A&O.PE_TYPE_UNIT&&(f=_.castObject(f,_.PeUnit))}}return f};function a(){_.PeFactory.prototype.initialize(null)}function i(f){return P(O.PE_TYPE_COORDSYS,f)}function P(f,A){let C=null,p=n[f];if(p||(p={},n[f]=p),p.hasOwnProperty(String(A)))C=p[A];else{const N=_.PeFactory.prototype.factoryByType(f,A);_.compare(N,_.NULL)||(C=N,p[A]=C)}return C=r(C),C}function s(f,A){let C=null,p=t[f];if(p||(p={},t[f]=p),p.hasOwnProperty(A))C=p[A];else{const N=_.PeFactory.prototype.fromString(f,A);_.compare(N,_.NULL)||(C=N,p[A]=C)}return C=r(C),C}function l(f){return P(O.PE_TYPE_GEOGCS,f)}function E(f){return P(O.PE_TYPE_GEOGTRAN,f)}function u(f){return _.PeFactory.prototype.getCode(f)}function c(f){return P(O.PE_TYPE_PROJCS,f)}function S(f){return P(O.PE_TYPE_UNIT,f)}e.initialize=a,e.coordsys=i,e.factoryByType=P,e.fromString=s,e.geogcs=l,e.geogtran=E,e.getCode=u,e.projcs=c,e.unit=S}(pe||(pe={}));let Xe=null;var re,Re,Oe,Ne,_e,Me,se,ie,Te;function Ke(e){function n(i,P,s){i[P]=s(i[P])}_=e,O.init(),re.init(),_e.init(),se.init(),ie.init(),Xe=class extends _.PeGCSExtent{destroy(){_.destroy(this)}};const t=[_.PeDatum,_.PeGeogcs,_.PeGeogtran,_.PeObject,_.PeParameter,_.PePrimem,_.PeProjcs,_.PeSpheroid,_.PeUnit];for(const i of t)n(i.prototype,"getName",P=>function(){return P.call(this,new Array(O.PE_NAME_MAX))});for(const i of[_.PeGeogtran,_.PeProjcs])n(i.prototype,"getParameters",P=>function(){const s=new Array(O.PE_PARM_MAX);let l=P.call(this);for(let E=0;E<s.length;E++){const u=_.getValue(l,"*");s[E]=u?_.wrapPointer(u,_.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return s});n(_.PeHorizon.prototype,"getCoord",i=>function(){const P=this.getSize();if(!P)return null;const s=[];return D(s,P,i.call(this)),s}),n(_.PeGTlistExtendedEntry.prototype,"getEntries",i=>{const P=_._pe_getPeGTlistExtendedGTsSize();return function(){let s=null;const l=i.call(this);if(!_.compare(l,_.NULL)){s=[l];const E=this.getSteps();if(E>1){const u=_.getPointer(l);for(let c=1;c<E;c++)s.push(_.wrapPointer(u+P*c,_.PeGTlistExtendedGTs))}}return s}});const r=_._pe_getPeHorizonSize(),a=i=>function(){let P=this._cache;if(P||(P=new Map,this._cache=P),P.has(i))return P.get(i);let s=null;const l=i.call(this);if(!_.compare(l,_.NULL)){s=[l];const E=l.getNump();if(E>1){const u=_.getPointer(l);for(let c=1;c<E;c++)s.push(_.wrapPointer(u+r*c,_.PeHorizon))}}return P.set(i,s),s};n(_.PeProjcs.prototype,"horizonGcsGenerate",a),n(_.PeProjcs.prototype,"horizonPcsGenerate",a),_.PeObject.prototype.toString=function(i=O.PE_STR_OPTS_NONE){_.ensureCache.prepare();const P=_.getPointer(this),s=_.ensureInt8(new Array(O.PE_BUFFER_MAX));return _.UTF8ToString(_._pe_object_to_string_ext(P,i,s))}}function I(e){if(!e)return;const n=_.getClass(e);if(!n)return;const t=_.getCache(n);if(!t)return;const r=_.getPointer(e);r&&delete t[r]}function ee(e,n){const t=[],r=new Array(n);for(let a=0;a<e;a++)t.push(_.ensureInt8(r));return t}function k(e){let n;return Array.isArray(e[0])?(n=[],e.forEach(t=>{n.push(t[0],t[1])})):n=e,n}function D(e,n,t,r=!1){if(r)for(let a=0;a<2*n;a++)e[a]=_.getValue(t+a*Float64Array.BYTES_PER_ELEMENT,"double");else{const a=e.length===0;for(let i=0;i<n;i++)a&&(e[i]=new Array(2)),e[i][0]=_.getValue(t,"double"),e[i][1]=_.getValue(t+Float64Array.BYTES_PER_ELEMENT,"double"),t+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let n;function t(){e.PE_GTLIST_OPTS_COMMON=_.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,n=_._pe_getPeGTlistExtendedEntrySize()}function r(a,i,P,s,l,E){let u=null;const c=new _.PeInteger(E);try{const S=_.PeGTlistExtended.prototype.getGTlist(a,i,P,s,l,c);if((E=c.val)&&(u=[S],E>1)){const f=_.getPointer(S);for(let A=1;A<E;A++)u.push(_.wrapPointer(f+n*A,_.PeGTlistExtendedEntry))}}finally{_.destroy(c)}return u}e.init=t,e.getGTlist=r})(re||(re={})),function(e){function n(t){if(t&&t.length){for(const r of t)I(r),r.getEntries().forEach(a=>{I(a);const i=a.getGeogtran();I(i),i.getParameters().forEach(I),[i.getGeogcs1(),i.getGeogcs2()].forEach(P=>{I(P);const s=P.getDatum();I(s),I(s.getSpheroid()),I(P.getPrimem()),I(P.getUnit())})});_.PeGTlistExtendedEntry.prototype.Delete(t[0])}}e.destroy=n}(Re||(Re={})),function(e){function n(t,r,a,i,P){_.ensureCache.prepare();const s=k(a),l=a===s,E=_.ensureFloat64(s);let u=0;i&&(u=_.ensureFloat64(i));const c=_._pe_geog_to_geog(_.getPointer(t),r,E,u,P);return c&&D(a,r,E,l),c}e.geogToGeog=n}(Oe||(Oe={})),function(e){const n=(E,u,c,S,f,A)=>{let C,p;switch(_.ensureCache.prepare(),E){case"dd":C=_._pe_geog_to_dd,p=O.PE_DD_MAX;break;case"ddm":C=_._pe_geog_to_ddm,p=O.PE_DDM_MAX;break;case"dms":C=_._pe_geog_to_dms,p=O.PE_DMS_MAX}let N=0;u&&(N=_.getPointer(u));const y=k(S),F=_.ensureFloat64(y),m=ee(c,p),G=C(N,c,F,f,_.ensureInt32(m));if(G)for(let L=0;L<c;L++)A[L]=_.UTF8ToString(m[L]);return G},t=(E,u,c,S,f)=>{let A;switch(_.ensureCache.prepare(),E){case"dd":A=_._pe_dd_to_geog;break;case"ddm":A=_._pe_ddm_to_geog;break;case"dms":A=_._pe_dms_to_geog}let C=0;u&&(C=_.getPointer(u));const p=S.map(m=>_.ensureString(m)),N=_.ensureInt32(p),y=_.ensureFloat64(new Array(2*c)),F=A(C,c,N,y);return F&&D(f,c,y),F};function r(E,u,c,S,f){return n("dms",E,u,c,S,f)}function a(E,u,c,S){return t("dms",E,u,c,S)}function i(E,u,c,S,f){return n("ddm",E,u,c,S,f)}function P(E,u,c,S){return t("ddm",E,u,c,S)}function s(E,u,c,S,f){return n("dd",E,u,c,S,f)}function l(E,u,c,S){return t("dd",E,u,c,S)}e.geogToDms=r,e.dmsToGeog=a,e.geogToDdm=i,e.ddmToGeog=P,e.geogToDd=s,e.ddToGeog=l}(Ne||(Ne={})),function(e){function n(){e.PE_MGRS_STYLE_NEW=_.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=_.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=_.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=_.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=_.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function t(a,i,P,s,l,E,u){_.ensureCache.prepare();let c=0;a&&(c=_.getPointer(a));const S=k(P),f=_.ensureFloat64(S),A=ee(i,O.PE_MGRS_MAX),C=_.ensureInt32(A),p=_._pe_geog_to_mgrs_extended(c,i,f,s,l,E,C);if(p)for(let N=0;N<i;N++)u[N]=_.UTF8ToString(A[N]);return p}function r(a,i,P,s,l){_.ensureCache.prepare();let E=0;a&&(E=_.getPointer(a));const u=P.map(A=>_.ensureString(A)),c=_.ensureInt32(u),S=_.ensureFloat64(new Array(2*i)),f=_._pe_mgrs_to_geog_extended(E,i,c,s,S);return f&&D(l,i,S),f}e.init=n,e.geogToMgrsExtended=t,e.mgrsToGeogExtended=r}(_e||(_e={})),function(e){function n(r,a,i,P,s,l,E){_.ensureCache.prepare();let u=0;r&&(u=_.getPointer(r));const c=k(i),S=_.ensureFloat64(c),f=ee(a,O.PE_MGRS_MAX),A=_.ensureInt32(f),C=_._pe_geog_to_usng(u,a,S,P,s,l,A);if(C)for(let p=0;p<a;p++)E[p]=_.UTF8ToString(f[p]);return C}function t(r,a,i,P){_.ensureCache.prepare();let s=0;r&&(s=_.getPointer(r));const l=i.map(S=>_.ensureString(S)),E=_.ensureInt32(l),u=_.ensureFloat64(new Array(2*a)),c=_._pe_usng_to_geog(s,a,E,u);return c&&D(P,a,u),c}e.geogToUsng=n,e.usngToGeog=t}(Me||(Me={})),function(e){function n(){e.PE_UTM_OPTS_NONE=_.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=_.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=_.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function t(a,i,P,s,l){_.ensureCache.prepare();let E=0;a&&(E=_.getPointer(a));const u=k(P),c=_.ensureFloat64(u),S=ee(i,O.PE_UTM_MAX),f=_.ensureInt32(S),A=_._pe_geog_to_utm(E,i,c,s,f);if(A)for(let C=0;C<i;C++)l[C]=_.UTF8ToString(S[C]);return A}function r(a,i,P,s,l){_.ensureCache.prepare();let E=0;a&&(E=_.getPointer(a));const u=P.map(A=>_.ensureString(A)),c=_.ensureInt32(u),S=_.ensureFloat64(new Array(2*i)),f=_._pe_utm_to_geog(E,i,c,s,S);return f&&D(l,i,S),f}e.init=n,e.geogToUtm=t,e.utmToGeog=r}(se||(se={})),function(e){const n=new Map;function t(){e.PE_PCSINFO_OPTION_NONE=_.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=_.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=_.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=_.PePCSInfo.prototype.PE_POLE_POINT}function r(a,i=e.PE_PCSINFO_OPTION_DOMAIN){let P,s;return n.has(a)&&(s=n.get(a),s[i]&&(P=s[i])),P||(P=_.PePCSInfo.prototype.generate(a,i),s||(s=[],n.set(a,s)),s[i]=P),P}e.init=t,e.generate=r}(ie||(ie={})),function(e){function n(){return _.PeVersion.prototype.version_string()}e.versionString=n}(Te||(Te={}));const Gt=Object.freeze({__proto__:null,get _pe(){return _},isLoaded:je,isSupported:ht,load:$e,get PeCSTransformations(){return Ce},get PeDefs(){return O},get PeFactory(){return pe},get PeGCSExtent(){return Xe},get PeGTlistExtended(){return re},get PeGTlistExtendedEntry(){return Re},get PeGTTransformations(){return Oe},get PeNotationDms(){return Ne},get PeNotationMgrs(){return _e},get PeNotationUsng(){return Me},get PeNotationUtm(){return se},get PePCSInfo(){return ie},get PeVersion(){return Te},_init:Ke}),W=g.radius,d=g.eccentricitySquared,It={a1:W*d,a2:W*d*W*d,a3:W*d*d/2,a4:W*d*W*d*2.5,a5:W*d+W*d*d/2,a6:1-d};1/294.9786982,1/298.257222101,g.radius,g.flattening,oe.radius,oe.flattening,1/192.0430107526882,V.radius,V.flattening,1/10.2079945799458,1/43.61604095563141,V.radius;let te=0;class b{constructor(n=null){this.uid=te++,n?(this._wkt=n.wkt!==void 0?n.wkt:null,this._wkid=n.wkid!==void 0?n.wkid:-1,this._isInverse=n.isInverse!==void 0&&n.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}static fromGE(n){const t=new b;return t._wkt=n.wkt,t._wkid=n.wkid,t._isInverse=n.isInverse,t}get wkt(){return this._wkt}set wkt(n){this._wkt=n,this.uid=te++}get wkid(){return this._wkid}set wkid(n){this._wkid=n,this.uid=te++}get isInverse(){return this._isInverse}set isInverse(n){this._isInverse=n,this.uid=te++}getInverse(){const n=new b;return n._wkt=this.wkt,n._wkid=this._wkid,n._isInverse=!this.isInverse,n}}class H{constructor(n){if(this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,n&&n.steps)for(const t of n.steps)t instanceof b?this.steps.push(t):this.steps.push(new b({wkid:t.wkid,wkt:t.wkt,isInverse:t.isInverse}))}static cacheKey(n,t){return[n.wkid!==void 0&&n.wkid!==null?n.wkid.toString():"-1",n.wkt!==void 0&&n.wkt!==null?n.wkt.toString():"",t.wkid!==void 0&&t.wkid!==null?t.wkid.toString():"-1",t.wkt!==void 0&&t.wkt!==null?t.wkt.toString():""].join(",")}static fromGE(n){const t=new H;let r="";for(const a of n.steps){const i=b.fromGE(a);t.steps.push(i),r+=i.uid.toString()+","}return t._cached_projection={},t._gtlistentry=null,t._chain=r,t}getInverse(){const n=new H;n.steps=[];for(let t=this.steps.length-1;t>=0;t--){const r=this.steps[t];n.steps.push(r.getInverse())}return n}getGTListEntry(){let n="";for(const t of this.steps)n+=t.uid.toString()+",";return n!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=n),this._gtlistentry}assignCachedGe(n,t,r){this._cached_projection[H.cacheKey(n,t)]=r}getCachedGeTransformation(n,t){let r="";for(const i of this.steps)r+=i.uid.toString()+",";r!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=r);const a=this._cached_projection[H.cacheKey(n,t)];return a===void 0?null:a}}let X=null,ae=null,Se=null,Ae={};function yt(){return!!X&&je()}function We(e){return T(Se)&&(Se=Promise.all([$e(),import("./geometryEngineBase.40db0853.js").then(n=>n.g),import("./hydrated.a9c726e5.js")])),Se.then(([,n,{hydratedAdapter:t}])=>{at(e),ae=t,X=n.default,X._enableProjection(Gt)})}function nn(e,n,t=null){return Array.isArray(e)?e.length===0?[]:we(ae,e,e[0].spatialReference,n,t):we(ae,[e],e.spatialReference,n,t)[0]}function we(e,n,t,r,a=null){if(T(t)||T(r))return n;if(ge(t,r,a))return n.map(i=>tt(mt(i,t,r)));if(T(a)){const i=H.cacheKey(t,r);Ae[i]!==void 0?a=Ae[i]:(a=Ft(t,r,null),T(a)&&(a=new H),Ae[i]=a)}if(T(X))throw new be;return X._project(e,n,t,r,a)}function Ft(e,n,t=null){if(T(X))throw new be;if(T(e)||T(n))return null;const r=X._getTransformation(ae,e,n,t,t==null?void 0:t.spatialReference);return r!==null?H.fromGE(r):null}class be extends it{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}var o;function ge(e,n,t){return!t&&(!!Le(e,n)||Fe(e)&&Fe(n)&&!!Ve(e,n,Je))}async function on(e,n,t,r){if(!yt()){if(Array.isArray(e)){for(const{source:a,dest:i,geographicTransformation:P}of e)if(!ge(a,i,P))return We(r)}else if(!ge(e,n,t))return We(r)}}function mt(e,n,t){return e?"x"in e?Wt(e,n,new nt,t,0):"xmin"in e?Dt(e,n,new ot,t,0):"rings"in e?ze(e,n,new rt,t,0):"paths"in e?Ut(e,n,new _t,t,0):"points"in e?wt(e,n,new st,t,0):null:null}function Wt(e,n,t,r,a){M[0]=e.x,M[1]=e.y;const i=e.z;return M[2]=i!==void 0?i:a,Q(M,n,0,M,r,0,1)?(t.x=M[0],t.y=M[1],t.spatialReference=r,i===void 0?(t.z=void 0,t.hasZ=!1):(t.z=M[2],t.hasZ=!0),e.m===void 0?(t.m=void 0,t.hasM=!1):(t.m=e.m,t.hasM=!0),t):null}function wt(e,n,t,r,a){const{points:i,hasZ:P,hasM:s}=e,l=[],E=i.length,u=[];for(const c of i)u.push(c[0],c[1],P?c[2]:a);if(!Q(u,n,0,u,r,0,E))return null;for(let c=0;c<E;++c){const S=3*c,f=u[S],A=u[S+1];P&&s?l.push([f,A,u[S+2],i[c][3]]):P?l.push([f,A,u[S+2]]):s?l.push([f,A,i[c][2]]):l.push([f,A])}return t.points=l,t.spatialReference=r,t.hasZ=P,t.hasM=s,t}function Ut(e,n,t,r,a){const{paths:i,hasZ:P,hasM:s}=e,l=[];return Ze(i,P,s,n,l,r,a)?(t.paths=l,t.spatialReference=r,t.hasZ=P,t.hasM=s,t):null}function rn(e,n,t=n.spatialReference,r=0){return me(t)&&me(ze(e,e.spatialReference,n,t,r))}function ze(e,n,t,r,a){const{rings:i,hasZ:P,hasM:s}=e,l=[];return Ze(i,P,s,n,l,r,a)?(t.rings=l,t.spatialReference=r,t.hasZ=P,t.hasM=s,t):null}function Dt(e,n,t,r,a){const{xmin:i,ymin:P,xmax:s,ymax:l,hasZ:E,hasM:u}=e;return Ue(i,P,E?e.zmin:a,n,M,r)?(t.xmin=M[0],t.ymin=M[1],E&&(t.zmin=M[2]),Ue(s,l,E?e.zmax:a,n,M,r)?(t.xmax=M[0],t.ymax=M[1],E&&(t.zmax=M[2]),u&&(t.mmin=e.mmin,t.mmax=e.mmax),t.spatialReference=r,t):null):null}function _n(e,n,t,r=0){M[0]=e.x,M[1]=e.y;const a=e.z;return M[2]=a!==void 0?a:r,Q(M,e.spatialReference,0,n,t,0,1)}function Ue(e,n,t,r,a,i){return ne[0]=e,ne[1]=n,ne[2]=t,Q(ne,r,0,a,i,0,1)}function Q(e,n,t,r,a,i,P=1){const s=Ve(n,a,Je);if(T(s))return!1;if(s===R){if(e===r&&t===i)return!0;const E=t+3*P;for(let u=t,c=i;u<E;u++,c++)r[c]=e[u];return!0}const l=t+3*P;for(let E=t,u=i;E<l;E+=3,u+=3)s(e,E,r,u);return!0}function Ze(e,n,t,r,a,i,P=0){const s=new Array;for(const E of e)for(const u of E)s.push(u[0],u[1],n?u[2]:P);if(!Q(s,r,0,s,i,0,s.length/3))return!1;let l=0;a.length=0;for(const E of e){const u=new Array;for(const c of E)n&&t?u.push([s[l++],s[l++],s[l++],c[3]]):n?u.push([s[l++],s[l++],s[l++]]):t?(u.push([s[l++],s[l++],c[2]]),l++):(u.push([s[l++],s[l++]]),l++);a.push(u)}return!0}function sn(e,n,t,r){if(T(e)||T(r))return!1;const a=Pe(e,Qt),i=Pe(r,en);if(a===i&&!De(i)&&(a!==o.UNKNOWN||Le(e,r)))return Tt(t,n),!0;if(De(i)){const P=q[a][o.LON_LAT],s=q[o.LON_LAT][i];return!T(P)&&!T(s)&&(P(n,0,w,0),s(w,0,U,0),qe(h*w[0],h*w[1],t),t[12]=U[0],t[13]=U[1],t[14]=U[2],!0)}if((i===o.WEB_MERCATOR||i===o.PLATE_CARREE)&&(a===o.WGS84||a===o.CGCS2000&&i===o.PLATE_CARREE||a===o.SPHERICAL_ECEF||a===o.WEB_MERCATOR)){const P=q[a][o.LON_LAT],s=q[o.LON_LAT][i];return!T(P)&&!T(s)&&(P(n,0,w,0),s(w,0,U,0),a===o.SPHERICAL_ECEF?Ht(h*w[0],h*w[1],t):Lt(t),t[12]=U[0],t[13]=U[1],t[14]=U[2],!0)}return!1}function De(e){return e===o.SPHERICAL_ECEF||e===o.SPHERICAL_MARS_PCPF||e===o.SPHERICAL_MOON_PCPF}function qe(e,n,t){const r=Math.sin(e),a=Math.cos(e),i=Math.sin(n),P=Math.cos(n),s=t;return s[0]=-r,s[4]=-i*a,s[8]=P*a,s[12]=0,s[1]=a,s[5]=-i*r,s[9]=P*r,s[13]=0,s[2]=0,s[6]=P,s[10]=i,s[14]=0,s[3]=0,s[7]=0,s[11]=0,s[15]=1,s}function Ht(e,n,t){return qe(e,n,t),gt(t,t),t}function Pe(e,n){return n.spatialReference===e?n.spatialReferenceId:(n.spatialReference=e,"metersPerUnit"in n&&(n.metersPerUnit=Pt(e,1)),e.wkt===ut.wkt?n.spatialReferenceId=o.SPHERICAL_ECEF:Et(e)?n.spatialReferenceId=o.WGS84:lt(e)?n.spatialReferenceId=o.WEB_MERCATOR:ct(e)?n.spatialReferenceId=o.PLATE_CARREE:e.wkt===ft.wkt?n.spatialReferenceId=o.WGS84_ECEF:e.wkid===St.CGCS2000?n.spatialReferenceId=o.CGCS2000:e.wkt===At.wkt?n.spatialReferenceId=o.SPHERICAL_MARS_PCPF:e.wkt===Ct.wkt?n.spatialReferenceId=o.SPHERICAL_MOON_PCPF:pt(e)?n.spatialReferenceId=o.GCSMARS2000:Rt(e)?n.spatialReferenceId=o.GCSMOON2000:n.spatialReferenceId=o.UNKNOWN)}function R(e,n,t,r){e!==t&&(t[r++]=e[n++],t[r++]=e[n++],t[r]=e[n])}function z(e,n,t,r){t[r++]=Z*(e[n++]/g.radius),t[r++]=Z*(Math.PI/2-2*Math.atan(Math.exp(-e[n++]/g.radius))),t[r]=e[n]}function kt(e,n,t,r){z(e,n,t,r),x(t,r,t,r)}function Bt(e,n,t,r){z(e,n,t,r),j(t,r,t,r)}function vt(e,n,t,r,a){const i=.4999999*Math.PI,P=Nt(h*e[n+1],-i,i),s=Math.sin(P);t[r++]=h*e[n]*a.radius,t[r++]=a.halfSemiMajorAxis*Math.log((1+s)/(1-s)),t[r]=e[n+2]}function J(e,n,t,r){vt(e,n,t,r,g)}(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",e[e.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=8]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=10]="GCSMOON2000",e[e.LON_LAT=11]="LON_LAT",e[e.PLATE_CARREE=12]="PLATE_CARREE"})(o||(o={}));const He=g.radius*Math.PI/180,ke=180/(g.radius*Math.PI);function B(e,n,t,r){t[r]=e[n]*He,t[r+1]=e[n+1]*He,t[r+2]=e[n+2]}function v(e,n,t,r){t[r]=e[n]*ke,t[r+1]=e[n+1]*ke,t[r+2]=e[n+2]}function xt(e,n,t,r){z(e,n,t,r),B(t,r,t,r)}function Yt(e,n,t,r){$(e,n,t,r),B(t,r,t,r)}function jt(e,n,t,r){Y(e,n,t,r),B(t,r,t,r)}function $t(e,n,t,r){v(e,n,t,r),x(t,r,t,r)}function Xt(e,n,t,r){v(e,n,t,r),J(t,r,t,r)}function Kt(e,n,t,r){v(e,n,t,r),j(t,r,t,r)}function de(e,n,t,r,a){const i=a+e[n+2],P=h*e[n+1],s=h*e[n],l=Math.cos(P);t[r++]=Math.cos(s)*l*i,t[r++]=Math.sin(s)*l*i,t[r]=Math.sin(P)*i}function Be(e,n,t,r){de(e,n,t,r,oe.radius)}function ve(e,n,t,r){de(e,n,t,r,V.radius)}function x(e,n,t,r){de(e,n,t,r,g.radius)}function he(e,n,t,r,a){const i=e[n],P=e[n+1],s=e[n+2],l=Math.sqrt(i*i+P*P+s*s),E=dt(s/(l===0?1:l)),u=Math.atan2(P,i);t[r++]=Z*u,t[r++]=Z*E,t[r]=l-a}function xe(e,n,t,r){he(e,n,t,r,oe.radius)}function Ye(e,n,t,r){he(e,n,t,r,V.radius)}function Y(e,n,t,r){he(e,n,t,r,g.radius)}function bt(e,n,t,r){Y(e,n,t,r),J(t,r,t,r)}function zt(e,n,t,r){Y(e,n,t,r),j(t,r,t,r)}function Zt(e,n,t,r,a){const i=h*e[n],P=h*e[n+1],s=e[n+2],l=Math.sin(P),E=Math.cos(P),u=a.radius/Math.sqrt(1-a.eccentricitySquared*l*l);t[r++]=(u+s)*E*Math.cos(i),t[r++]=(u+s)*E*Math.sin(i),t[r++]=(u*(1-a.eccentricitySquared)+s)*l}function j(e,n,t,r){Zt(e,n,t,r,g)}function $(e,n,t,r){const a=It,i=e[n],P=e[n+1],s=e[n+2];let l,E,u,c,S,f,A,C,p,N,y,F,m,G,L,Ee,le,ce,K,Ie,ye;l=Math.abs(s),E=i*i+P*P,u=Math.sqrt(E),c=E+s*s,S=Math.sqrt(c),Ie=Math.atan2(P,i),f=s*s/c,A=E/c,G=a.a2/S,L=a.a3-a.a4/S,A>.3?(C=l/S*(1+A*(a.a1+G+f*L)/S),K=Math.asin(C),N=C*C,p=Math.sqrt(1-N)):(p=u/S*(1-f*(a.a5-G-A*L)/S),K=Math.acos(p),N=1-p*p,C=Math.sqrt(N)),y=1-g.eccentricitySquared*N,F=g.radius/Math.sqrt(y),m=a.a6*F,G=u-F*p,L=l-m*C,le=p*G+C*L,Ee=p*L-C*G,ce=Ee/(m/y+le),K+=ce,ye=le+Ee*ce/2,s<0&&(K=-K),t[r++]=Z*Ie,t[r++]=Z*K,t[r]=ye}function qt(e,n,t,r){$(e,n,t,r),x(t,r,t,r)}function Vt(e,n,t,r){$(e,n,t,r),J(t,r,t,r)}const q={[o.WGS84]:{[o.CGCS2000]:null,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:R,[o.WGS84_COMPARABLE_LON_LAT]:R,[o.SPHERICAL_ECEF]:x,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:J,[o.PLATE_CARREE]:B,[o.WGS84]:R,[o.WGS84_ECEF]:j},[o.CGCS2000]:{[o.CGCS2000]:R,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:R,[o.WGS84_COMPARABLE_LON_LAT]:R,[o.SPHERICAL_ECEF]:x,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:null,[o.PLATE_CARREE]:B,[o.WGS84]:null,[o.WGS84_ECEF]:j},[o.GCSMARS2000]:{[o.CGCS2000]:null,[o.GCSMARS2000]:R,[o.GCSMOON2000]:null,[o.LON_LAT]:R,[o.WGS84_COMPARABLE_LON_LAT]:null,[o.SPHERICAL_ECEF]:null,[o.SPHERICAL_MARS_PCPF]:ve,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:null,[o.PLATE_CARREE]:null,[o.WGS84]:null,[o.WGS84_ECEF]:null},[o.GCSMOON2000]:{[o.CGCS2000]:null,[o.GCSMARS2000]:null,[o.GCSMOON2000]:R,[o.LON_LAT]:R,[o.WGS84_COMPARABLE_LON_LAT]:null,[o.SPHERICAL_ECEF]:null,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:Be,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:null,[o.PLATE_CARREE]:null,[o.WGS84]:null,[o.WGS84_ECEF]:null},[o.WEB_MERCATOR]:{[o.CGCS2000]:null,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:z,[o.WGS84_COMPARABLE_LON_LAT]:z,[o.SPHERICAL_ECEF]:kt,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:R,[o.PLATE_CARREE]:xt,[o.WGS84]:z,[o.WGS84_ECEF]:Bt},[o.WGS84_ECEF]:{[o.CGCS2000]:$,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:$,[o.WGS84_COMPARABLE_LON_LAT]:$,[o.SPHERICAL_ECEF]:qt,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:Vt,[o.PLATE_CARREE]:Yt,[o.WGS84]:$,[o.WGS84_ECEF]:R},[o.SPHERICAL_ECEF]:{[o.CGCS2000]:Y,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:Y,[o.WGS84_COMPARABLE_LON_LAT]:Y,[o.SPHERICAL_ECEF]:R,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:bt,[o.PLATE_CARREE]:jt,[o.WGS84]:Y,[o.WGS84_ECEF]:zt},[o.SPHERICAL_MARS_PCPF]:{[o.CGCS2000]:null,[o.GCSMARS2000]:Ye,[o.GCSMOON2000]:null,[o.LON_LAT]:Ye,[o.WGS84_COMPARABLE_LON_LAT]:null,[o.SPHERICAL_ECEF]:null,[o.SPHERICAL_MARS_PCPF]:R,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:null,[o.PLATE_CARREE]:null,[o.WGS84]:null,[o.WGS84_ECEF]:null},[o.SPHERICAL_MOON_PCPF]:{[o.CGCS2000]:null,[o.GCSMARS2000]:null,[o.GCSMOON2000]:xe,[o.LON_LAT]:xe,[o.WGS84_COMPARABLE_LON_LAT]:null,[o.SPHERICAL_ECEF]:null,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:R,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:null,[o.PLATE_CARREE]:null,[o.WGS84]:null,[o.WGS84_ECEF]:null},[o.UNKNOWN]:{[o.CGCS2000]:null,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:null,[o.WGS84_COMPARABLE_LON_LAT]:null,[o.SPHERICAL_ECEF]:null,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:R,[o.WEB_MERCATOR]:null,[o.PLATE_CARREE]:null,[o.WGS84]:null,[o.WGS84_ECEF]:null},[o.LON_LAT]:{[o.CGCS2000]:R,[o.GCSMARS2000]:R,[o.GCSMOON2000]:R,[o.LON_LAT]:R,[o.WGS84_COMPARABLE_LON_LAT]:R,[o.SPHERICAL_ECEF]:x,[o.SPHERICAL_MARS_PCPF]:ve,[o.SPHERICAL_MOON_PCPF]:Be,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:J,[o.PLATE_CARREE]:B,[o.WGS84]:R,[o.WGS84_ECEF]:j},[o.WGS84_COMPARABLE_LON_LAT]:{[o.CGCS2000]:null,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:R,[o.WGS84_COMPARABLE_LON_LAT]:R,[o.SPHERICAL_ECEF]:x,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:null,[o.PLATE_CARREE]:B,[o.WGS84]:R,[o.WGS84_ECEF]:j},[o.PLATE_CARREE]:{[o.CGCS2000]:v,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:v,[o.WGS84_COMPARABLE_LON_LAT]:v,[o.SPHERICAL_ECEF]:$t,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:Xt,[o.PLATE_CARREE]:R,[o.WGS84]:v,[o.WGS84_ECEF]:Kt}};function Ve(e,n,t=Ge()){return T(e)||T(n)?null:Jt(e,n,t).projector}function Jt(e,n,t){if(T(e)||T(n)||t.source.spatialReference===e&&t.dest.spatialReference===n)return t;const r=Pe(e,t.source),a=Pe(n,t.dest);return r===o.UNKNOWN&&a===o.UNKNOWN?Le(e,n)?t.projector=R:t.projector=null:t.projector=q[r][a],t}function Ge(){return{source:{spatialReference:null,spatialReferenceId:o.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:o.UNKNOWN,metersPerUnit:1},projector:R}}const Qt={spatialReference:null,spatialReferenceId:o.UNKNOWN},en={spatialReference:null,spatialReferenceId:o.UNKNOWN},Je=Ge();Ge();const h=Mt(1),Z=Ot(1),ne=ue(),w=ue(),U=ue(),M=ue();export{we as $,O as E,Q as F,yt as J,_n as N,We as Q,ie as S,sn as U,nn as Y,H as a,Ce as b,Oe as c,rn as d,pe as i,ge as o,on as s};
